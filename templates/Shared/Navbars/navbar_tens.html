{% load static %}
{% load url_encryption_tags %}
<style>
    /* ACCESSIBILITY UPDATE: Solid High-Contrast Colors */
    .navbar-tens {
        background: #0277bd !important; /* Dark Blue/Cyan for better contrast */
    }
    .navbar .navbar-brand, 
    .navbar .nav-link {
        color: #ffffff !important;
        text-shadow: none !important; /* Remove shadow to ensure clean text */
        font-weight: 600;
    }
    .navbar .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }
</style>
<nav class="navbar navbar-expand-lg navbar-dark sticky-top navbar-tens">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'authentication:dashboard_tens' %}">
            <img src="{% static 'Imagenes/Logo.png' %}" alt="Logo" width="40" height="40" class="d-inline-block align-middle rounded-circle me-2">
            Obstetric Care - TENS
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'authentication:dashboard_tens' %}">
                        <i class="bi bi-house-door"></i> Dashboard TENS
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'tens:buscar_paciente' %}">
                        <i class="bi bi-search"></i> Buscar Paciente
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'tens:parametros_tens' %}">
                        <i class="bi bi-heart-pulse"></i> Registrar Signos Vitales
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'tens:buscar_paciente' %}">
                        <i class="bi bi-pill"></i> Ver Tratamientos
                    </a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link position-relative" href="{% url 'gestion_procesos:mis_notificaciones' %}">
                        <i class="bi bi-bell-fill"></i> Notificaciones
                        <span id="notification-badge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="display: none; font-size: 0.6rem; z-index: 1000;">0</span>
                    </a>
                </li>

                <!-- Usuario -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="bi bi-person-circle"></i>
                        {{ user.username }}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li>
                            <h6 class="dropdown-header">
                                <i class="bi bi-person"></i> {{ user.get_full_name|default:user.username }}
                            </h6>
                        </li>
                        <li><span class="dropdown-item-text text-muted small">
                                <i class="bi bi-shield-check"></i> TENS
                            </span></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="{% static 'Manuales/Manual_Usuario_TENS.pdf' %}" target="_blank">
                                <i class="bi bi-book"></i> Manual de Usuario
                            </a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="{% url 'authentication:logout' %}">
                                <i class="bi bi-box-arrow-right"></i> Cerrar Sesi√≥n
                            </a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
